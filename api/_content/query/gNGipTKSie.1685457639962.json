{"_path":"/web/hexo","_dir":"web","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"网站技术栈","description":"","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"网站技术栈"},"children":[{"type":"text","value":"网站技术栈"}]},{"type":"element","tag":"h2","props":{"id":"基本框架"},"children":[{"type":"text","value":"基本框架"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"基本框架hexo，不多说，主题是猕猴桃主题，提前预留好了接口后期方便爆改"}]},{"type":"element","tag":"h2","props":{"id":"评论区"},"children":[{"type":"text","value":"评论区"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"首先是评论区系统的实现，使用twikoo系统，需要数据库作为后端存储，数据库类型为mongdb"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"首先是mongdb数据库，访问网址"},{"type":"element","tag":"a","props":{"href":"https://www.mongodb.com/zh-cn/pricing","rel":["nofollow"]},"children":[{"type":"text","value":"https://www.mongodb.com/zh-cn/pricing"}]},{"type":"text","value":" 进行注册，"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"创建免费 MongoDB 数据库，区域推荐选择 AWS / N. Virginia (us-east-1)"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"在 Clusters 页面点击 CONNECT，按步骤设置允许所有 IP 地址的连接"},{"type":"element","tag":"sup","props":{},"children":[{"type":"element","tag":"a","props":{"href":"#user-content-fn-1","ariaDescribedBy":["footnote-label"],"dataFootnoteRef":true,"id":"user-content-fnref-1"},"children":[{"type":"text","value":"1"}]}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"创建数据库用户，并记录数据库连接字符串，请将连接字符串中的 "},{"type":"element","tag":"password","props":{},"children":[{"type":"text","value":" 修改为数据库密码"}]}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"注册vercel账户，你也可以在下面一键部署的时候注册"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"之后打开"},{"type":"element","tag":"a","props":{"href":"https://twikoo.js.org/quick-start.html#vercel-%E9%83%A8%E7%BD%B2%E9%80%89%E6%8B%A9vercel%E5%B9%B3%E5%8F%B0%E8%BF%9B%E8%A1%8C%E4%B8%80%E9%94%AE%E9%83%A8%E7%BD%B2%EF%BC%8C%E4%B9%9F%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8zebur%E6%88%96%E8%80%85%E5%85%B6%E4%BB%96%E5%B9%B3%E5%8F%B0%EF%BC%9B%E4%B8%80%E8%88%AC%E6%9D%A5%E8%AF%B4%E7%AC%AC%E4%B8%80%E6%AC%A1%E9%83%BD%E6%98%AF%E5%A4%B1%E8%B4%A5%E7%9A%84%EF%BC%8C%E4%B8%8D%E7%94%A8%E6%85%8C%EF%BC%8C%E8%B7%9F%E7%9D%80%E4%B8%8B%E9%9D%A2%E8%B5%B0","rel":["nofollow"]},"children":[{"type":"text","value":"https://twikoo.js.org/quick-start.html#vercel-%E9%83%A8%E7%BD%B2选择vercel平台进行一键部署，也可以使用zebur或者其他平台；一般来说第一次都是失败的，不用慌，跟着下面走"}]}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"进入 Settings - Environment Variables，添加环境变量 MONGODB_URI，值为上面的的数据库连接字符串"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"进入 Deployments , 然后在任意一项后面点击更多（三个点） , 然后点击Redeploy , 最后点击下面的Redeploy进行重新部署"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"进入 Overview，点击 Domains 下方的链接，如果环境配置正确，可以看到 “Twikoo 云函数运行正常” 的提示"}]},{"type":"element","tag":"li","props":{},"children":[{"type":"text","value":"Vercel Domains（包含 https:// 前缀，例如 "},{"type":"element","tag":"a","props":{"href":"https://xxx.vercel.app%EF%BC%89%E5%8D%B3%E4%B8%BA%E6%82%A8%E7%9A%84%E7%8E%AF%E5%A2%83","rel":["nofollow"]},"children":[{"type":"text","value":"https://xxx.vercel.app）即为您的环境"}]},{"type":"text","value":" id"}]}]},{"type":"element","tag":"warning","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"这是我的部署过程，如果你需要使用其他平台请参考twikoo的文档"},{"type":"element","tag":"a","props":{"href":"https://twikoo.js.org/quick-start.html","rel":["nofollow"]},"children":[{"type":"text","value":"https://twikoo.js.org/quick-start.html"}]}]}]},{"type":"element","tag":"blockquote","props":{},"children":[{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"具体步骤引用自："},{"type":"element","tag":"a","props":{"href":"https://twikoo.js.org/quick-start.html#vercel-%E9%83%A8%E7%BD%B2","rel":["nofollow"]},"children":[{"type":"text","value":"https://twikoo.js.org/quick-start.html#vercel-%E9%83%A8%E7%BD%B2"}]}]}]},{"type":"element","tag":"h2","props":{"id":"首页ip访问"},"children":[{"type":"text","value":"首页ip访问"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"使用腾讯地图api进行调用"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"懒得搬了，"},{"type":"element","tag":"a","props":{"href":"https://ichika.cc/Article/beautiful_IPLocation/","rel":["nofollow"]},"children":[{"type":"text","value":"https://ichika.cc/Article/beautiful_IPLocation/"}]},{"type":"text","value":" 自己看吧"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"基本就是这些了，摆烂"}]},{"type":"element","tag":"section","props":{"className":["footnotes"],"dataFootnotes":true},"children":[{"type":"element","tag":"h2","props":{"id":"footnote-label","className":["sr-only"]},"children":[{"type":"text","value":"Footnotes"}]},{"type":"element","tag":"ol","props":{},"children":[{"type":"element","tag":"li","props":{"id":"user-content-fn-1"},"children":[{"type":"text","value":"因为vercel使用的是动态ip，每次连接的ip都不一样所以就需要放行全部ip，其他平台请根据平台的文档进行取舍或者也一样全部放开。 "},{"type":"element","tag":"a","props":{"href":"#user-content-fnref-1","ariaLabel":"Back to content","className":["data-footnote-backref"],"dataFootnoteBackref":true},"children":[{"type":"text","value":"↩"}]}]}]}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"基本框架","depth":2,"text":"基本框架"},{"id":"评论区","depth":2,"text":"评论区"},{"id":"首页ip访问","depth":2,"text":"首页ip访问"},{"id":"footnote-label","depth":2,"text":"Footnotes"}]}},"_type":"markdown","_id":"content:web:hexo.md","_source":"content","_file":"web/hexo.md","_extension":"md"}